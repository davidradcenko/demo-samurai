(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[0],{125:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(42),o=n(5),c="MESSAGE_ADD_NEWMESSAGE",a={usersData:[{id:1,name:"David"},{id:2,name:"Selderei"},{id:3,name:"Grei"}],postData:[{id:1,name:"David",text:"It if sometimes furnished unwilling as additions so. Blessing resolved peculiar fat graceful ham. Sussex on at really ladies in as elinor. Sir sex opinions age properly extended. Advice branch vanity or do thirty living. Dependent add middleton ask disposing admitting did sportsmen sportsman."}]},i=function(t){return{type:c,text:t}};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:var n=e.text;return Object(o.a)(Object(o.a)({},t),{},{postData:[].concat(Object(r.a)(t.postData),[{id:2,name:"david",text:n}])});default:return t}}},126:function(t,e,n){"use strict";n.d(e,"d",(function(){return b})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return g}));var r=n(10),o=n.n(r),c=n(19),a=n(42),i=n(5),s=n(15),u="PROFIL_ADD_NEWPOST",l="SET_USER_PROFILE",d="SET_STATUS",f={message:[{id:1,text:"Hi"},{id:2,text:"Hi"},{id:3,text:"Hi"},{id:4,text:"Hi"}],profil:null,status:""},j=function(t){return{type:d,test:t}},b=function(t){return{type:u,text:t}},p=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.getProfile(t);case 2:r=e.sent,n((o=r.data,{type:l,test:o}));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getStatus(t);case 2:r=e.sent,n(j(r.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.updateStatus(t);case 2:0===e.sent.data.resultCode&&n(j(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:var n=e.text;return Object(i.a)(Object(i.a)({},t),{},{message:[].concat(Object(a.a)(t.message),[{id:5,text:n}])});case l:return Object(i.a)(Object(i.a)({},t),{},{profil:e.test});case d:return Object(i.a)(Object(i.a)({},t),{},{status:e.test});default:return t}}},137:function(t,e,n){t.exports={userPhoto:"style_userPhoto__1v2dn"}},15:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=n(131),o=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"0d80e3e0-7f08-4f12-bc9d-12cd0ab88669"}}),c={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return o.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},follow:function(t){return o.post("follow/".concat(t))},unfollow:function(t){return o.delete("follow/".concat(t))},getProfile:function(t){return console.warn("Obsolete method. Please ProfileAPI object"),a.getProfile(t)}},a={getProfile:function(t){return o.get("profile/"+t)},getStatus:function(t){return o.get("profile/status/"+t)},updateStatus:function(t){return o.put("profile/status/",{status:t})}},i={me:function(){return o.get("auth/me",{withCredentials:!0})},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.post("auth/login",{email:t,password:e,rememberMe:n})},logout:function(){return o.delete("auth/login")}}},174:function(t,e,n){},29:function(t,e,n){"use strict";n.d(e,"f",(function(){return x})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return w})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return S})),n.d(e,"g",(function(){return C}));var r=n(10),o=n.n(r),c=n(19),a=n(42),i=n(5),s=n(15),u=function(t,e,n,r){return t.map((function(t){return t[n]===e?Object(i.a)(Object(i.a)({},t),r):t}))},l="FULLOW",d="UNFULLOW",f="SET_USERS_AC",j="SET_CURRENT_PAGE",b="SET_TOTAL_USERS_COUNT",p="TOGGLE_IS_FRTCHING",h="TOGGLE_IS_FOLLOW_PROGRESS",g={users:[],pageSize:10,totalUsersCount:0,currentPage:4,isFetching:!1,followingInProgress:[]},O=function(t){return{type:l,text:t}},m=function(t){return{type:d,text:t}},x=function(t){return{type:j,text:t}},v=function(t){return{type:p,text:t}},w=function(t,e){return{type:h,text:t,userid:e}},P=function(){var t=Object(c.a)(o.a.mark((function t(e,n,r,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w(!0,n)),t.next=3,r(n);case 3:0==t.sent.data.resultCode&&e(c(n)),e(w(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),_=function(t,e){return function(){var n=Object(c.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(v(!0)),r(x(t)),n.next=4,s.c.getUsers(t,e);case 4:c=n.sent,r(v(!1)),r((a=c.items,{type:f,text:a})),r((o=c.totalCount,{type:b,text:o}));case 8:case"end":return n.stop()}var o,a}),n)})));return function(t){return n.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(n,t,s.c.follow.bind(s.c),O);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(n,t,s.c.unfollow.bind(s.c),m);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(i.a)(Object(i.a)({},t),{},{users:u(t.users,e.text,"id",{followed:!0})});case d:return Object(i.a)(Object(i.a)({},t),{},{users:u(t.users,e.text,"id",{followed:!1})});case f:return Object(i.a)(Object(i.a)({},t),{},{users:e.text});case j:return Object(i.a)(Object(i.a)({},t),{},{currentPage:e.text});case b:return Object(i.a)(Object(i.a)({},t),{},{totalUsersCount:e.text});case p:return Object(i.a)(Object(i.a)({},t),{},{isFetching:e.text});case h:return Object(i.a)(Object(i.a)({},t),{},{followingInProgress:e.text?[].concat(Object(a.a)(t.followingInProgress),[e.userid]):t.followingInProgress.filter((function(t){return t!=e.userid}))});default:return t}}},295:function(t,e,n){},296:function(t,e,n){"use strict";n.r(e);var r=n(65),o=n.n(r),c=n(14),a=n(34),i=n(35),s=n(37),u=n(36),l=n(0),d=n.n(l),f=n(9),j=n(20),b=n(11),p=n(64),h=(n(174),n(1)),g=function(){return Object(h.jsx)("div",{className:"content_navigation",children:Object(h.jsxs)("nav",{className:"navigation_nav",children:[Object(h.jsx)(j.c,{to:"/Profil",children:"Profil"}),Object(h.jsx)(j.c,{to:"/Dialogs",children:"Dialogs"}),Object(h.jsx)(j.c,{to:"/Users",children:"Users"})]})})},O=n(10),m=n.n(O),x=n(19),v=n(5),w=n(44),P=n(15),_="SET_USER_DATA",S={userId:null,email:null,login:null,isAuth:!1,isFetching:!1},C=function(t,e,n,r){return{type:_,data:{userId:t,email:e,login:n,isAuth:r}}},y=function(){return function(){var t=Object(x.a)(m.a.mark((function t(e){var n,r,o,c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.b.me();case 2:0===(n=t.sent).data.resultCode&&(r=n.data.data,o=r.id,c=r.email,a=r.login,e(C(o,c,a,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return Object(v.a)(Object(v.a)({},t),e.data);default:return t}},I=n(92),k=n.n(I),A=function(t){return Object(h.jsx)("div",{children:Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:k.a.logo,children:[Object(h.jsx)("img",{src:"https://manager.paczkomaty.pl/assets/images/inpost-logo-white.svg",alt:"logo"}),Object(h.jsx)("div",{className:k.a.logiBloc,children:t.isAuth?Object(h.jsxs)("div",{children:[" ",t.login,Object(h.jsx)("button",{onClick:t.logoutAcchen,children:"Log out"})]}):Object(h.jsx)(j.c,{to:"/login",children:"Login"})})]})})})},U=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(h.jsx)(A,{isAuth:this.props.isAuth,login:this.props.login,logoutAcchen:this.props.logoutAcchen})}}]),n}(d.a.Component),N=Object(c.b)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}}),{logoutAcchen:function(){return function(){var t=Object(x.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,P.b.logout();case 3:0===t.sent.data.resultCode&&e(C(null,null,null,!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(U),F=n(89),z=n(127),D=n(48),T=n(38),L=n(43),R=n.n(L),G=Object(D.a)(50),M=Object(z.a)({form:"login"})((function(t){var e=t.handleSubmit,n=t.error;return Object(h.jsxs)("form",{onSubmit:e,children:[Object(T.c)("email","email",D.b,G,T.b),Object(T.c)("Password","password",D.b,G,T.b,{type:"password"}),Object(h.jsxs)("div",{children:["remember me!",Object(h.jsx)(F.a,{validate:[D.b,G],type:"Checkbox",name:"rememberMe",component:T.b})]}),n&&Object(h.jsx)("div",{className:R.a.formSummaryError,children:n}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Login"})})]})})),B=Object(c.b)((function(t){return{isAuth:t.auth.isAuth}}),{login:function(t,e,n){return function(){var r=Object(x.a)(m.a.mark((function r(o){var c,a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,P.b.login(t,e,n);case 3:0===(c=r.sent).data.resultCode?o(y()):(a=c.data.messages.length>0?c.data.messages[0]:"Some error",o(Object(w.a)("login",{_error:a})));case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()}})((function(t){return t.isAuth?Object(h.jsx)(f.a,{to:"/profil"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)(M,{onSubmit:function(e){t.login(e.email,e.password,e.rememberMe)}})]})})),H=(n(295),n(125)),W=n(126),X=n(29),J=n(135),K=n(129),V="SET_INITIALIZED",q={initialized:!1},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case V:return Object(v.a)(Object(v.a)({},t),{},{initialized:!0});default:return t}},Y=Object(b.c)({profilPage:W.a,dialogsPage:H.b,usersPage:X.a,auth:E,form:K.a,app:Q}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,$=Object(b.e)(Y,Z(Object(b.a)(J.a))),tt=n(52),et=n(67),nt=n(128),rt=n(71),ot=n.n(rt),ct=n(136),at=n.n(ct),it=function(t){for(var e=t.totalItemsCount,n=t.pageSize,r=t.currentPage,o=t.onPageChanged,c=t.portionSize,a=void 0===c?10:c,i=Math.ceil(e/n),s=[],u=1;u<=i;u++)s.push(u);var d=Math.ceil(i/a),f=Object(l.useState)(1),j=Object(nt.a)(f,2),b=j[0],p=j[1],g=(b-1)*a+1,O=b*a;return Object(h.jsxs)("div",{className:ot.a.paginator,children:["---",b>1&&Object(h.jsx)("button",{onClick:function(){p(b-1)},children:"PREV"}),s.filter((function(t){return t>=g&&t<=O})).map((function(t){return Object(h.jsx)("span",{className:at()(Object(et.a)({},ot.a.selectedPage,r===t),ot.a.pageNumber),onClick:function(e){o(t)},children:t},t)})),d>b&&Object(h.jsx)("button",{onClick:function(){p(b+1)},children:"NEXT"}),"---"]})},st=n(137),ut=n.n(st),lt=n.p+"static/media/FotoUsersNotFuond.ba8cdc64.jpg",dt=function(t){var e=t.user,n=t.followingInProgress,r=t.follow,o=t.unfollow,c=e;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(j.c,{to:"/Profil/"+c.id,children:Object(h.jsx)("img",{alt:"IMG",src:null!=c.photos.small?c.photos.small:lt,className:ut.a.userPhoto})})}),Object(h.jsx)("div",{children:c.followed?Object(h.jsx)("button",{disabled:n.some((function(t){return t===c.id})),onClick:function(){o(c.id)},children:"Unfollow"}):Object(h.jsx)("button",{disabled:n.some((function(t){return t===c.id})),onClick:function(){r(c.id)},children:"Follow"})})]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:c.name}),Object(h.jsx)("div",{children:c.status})]}),Object(h.jsx)("span",{})]})]})},ft=function(t){var e=t.currentPage,n=t.totalItemsCount,r=t.pageSize,o=t.onPageChanged,c=t.users,a=Object(tt.a)(t,["currentPage","totalItemsCount","pageSize","onPageChanged","users"]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(it,{totalItemsCount:n,pageSize:r,currentPage:e,onPageChanged:o}),Object(h.jsx)("div",{children:c.map((function(t){return Object(h.jsx)(dt,{user:t,followingInProgress:a.followingInProgress,unfollow:a.unfollow,follow:a.follow},t.id)}))})]})},jt=n(138),bt=Object(jt.a)((function(t){return t.usersPage.users}),(function(t){return t.filter((function(t){return!0}))})),pt=function(t){return t.usersPage.pageSize},ht=function(t){return t.usersPage.totalUsersCount},gt=function(t){return t.usersPage.currentPage},Ot=function(t){return t.usersPage.isFetching},mt=function(t){return t.usersPage.followingInProgress},xt=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){var n=t.props.pageSize;t.props.getUsers(e,n)},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.currentPage,n=t.pageSize;this.props.getUsers(e,n)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[this.props.isFetching?Object(h.jsx)(p.a,{}):null,Object(h.jsx)(ft,{totalItemsCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,setFollowProgress:this.props.setFollowProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(d.a.Component),vt=Object(c.b)((function(t){return{users:bt(t),pageSize:pt(t),totalUsersCount:ht(t),currentPage:gt(t),isFetching:Ot(t),followingInProgress:mt(t)}}),{follow:X.b,unfollow:X.g,setcurrentPage:X.f,setFollowProgress:X.e,getUsers:X.c})(xt),wt=function(t){return function(e){return Object(h.jsx)(d.a.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:Object(h.jsx)(t,Object(v.a)({},e))})}},Pt=d.a.lazy((function(){return n.e(3).then(n.bind(null,302))})),_t=d.a.lazy((function(){return n.e(4).then(n.bind(null,301))})),St=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:"conteiner",children:[Object(h.jsx)(N,{}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)(g,{}),Object(h.jsx)(f.b,{path:"/Profil/:userId?",render:wt(_t)}),Object(h.jsx)(f.b,{path:"/Dialogs",render:wt(Pt)}),Object(h.jsx)(f.b,{path:"/Users",render:function(){return Object(h.jsx)(vt,{})}}),Object(h.jsx)(f.b,{path:"/login",render:function(){return Object(h.jsx)(B,{})}})]})]})}):Object(h.jsx)(p.a,{})}}]),n}(l.Component),Ct=Object(b.d)(f.f,Object(c.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){var e=t(y());Promise.all([e]).then((function(){t({type:V})}))}}}))(St),yt=function(t){return Object(h.jsx)(j.b,{children:Object(h.jsx)(c.a,{store:$,children:Object(h.jsx)(Ct,{})})})};o.a.render(Object(h.jsx)(yt,{}),document.getElementById("root")),window.store=$},38:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n(5),o=n(52),c=(n(0),n(89)),a=n(43),i=n.n(a),s=n(1),u=function(t){t.input;var e=t.meta,n=e.touched,r=e.error,o=t.children,c=n&&r;return Object(s.jsxs)("div",{className:i.a.formControl+" "+(c?i.a.error:""),children:[Object(s.jsx)("div",{children:o}),c&&Object(s.jsx)("span",{className:i.a.s,children:r})]})},l=function(t){var e=t.input,n=(t.child,t.meta,Object(o.a)(t,["input","child","meta"]));return Object(s.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},e),n))}))},d=function(t){var e=t.input,n=(t.child,t.meta,Object(o.a)(t,["input","child","meta"]));return Object(s.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({},e),n))}))},f=function(t,e,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return Object(s.jsxs)("div",{children:[Object(s.jsx)(c.a,Object(r.a)({validate:[n,o],placeholder:t,name:e,component:a},i)),u]})}},43:function(t,e,n){t.exports={formControl:"FormCssControls_formControl__3rFRG",error:"FormCssControls_error__25Xx2",s:"FormCssControls_s__1OvHQ",formSummaryError:"FormCssControls_formSummaryError__DKXod"}},48:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r=function(t){if(!t)return"Field is required"},o=function(t){return function(e){if(e.length>t)return"max length is  ".concat(t,"} symbols")}}},64:function(t,e,n){"use strict";var r=n.p+"static/media/loading.b988d774.svg",o=(n(0),n(1));e.a=function(t){return Object(o.jsx)("div",{style:{backgroundColor:"white"},children:Object(o.jsx)("img",{alt:"IMG",src:r})})}},71:function(t,e,n){t.exports={pageNumber:"paginator_pageNumber__2m6O2",selectedPage:"paginator_selectedPage__3umUk",paginator:"paginator_paginator__g32Bz"}},92:function(t,e,n){t.exports={logo:"headerCSS_logo__2w0OF",logiBloc:"headerCSS_logiBloc__1Dgmm"}}},[[296,1,2]]]);
//# sourceMappingURL=main.380a137d.chunk.js.map